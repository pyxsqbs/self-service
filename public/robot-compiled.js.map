{"version":3,"sources":["robot.js"],"names":[],"mappings":"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","file":"robot-compiled.js","sourcesContent":["let langCookie = getCookie('language');\n\nfunction getCookie(cname) {\n  let name = cname + \"=\";\n  let ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i].trim();\n    if (c.indexOf(name) === 0) return c.substring(name.length, c.length).slice(-7);\n  }\n  return \"\";\n}\n\nlet robot = {\n  placeholder: '请输入您的问题...',\n  welcome: '您好，请问有什么可以帮助您？',\n  kefuWelcome: '您好，请问有什么可以帮您？',\n  likePrompt: '您对本次服务是否满意？',\n  title: '智能客服',\n};\n\nswitch (langCookie) {\n  case 'chinese':\n    document.title = '自助服务台';\n    break;\n  case 'english':\n    document.title = 'HelpDesk';\n    robot = {\n      placeholder: 'Please enter your question...',\n      welcome: 'Hello, may I help you?',\n      kefuWelcome: 'Hello, may I help you?',\n      likePrompt: 'Are you satisfied with the service?',\n      title: 'Intelligent Customer Service',\n    };\n    break;\n  default :\n    document.title = '自助服务台';\n}\n\n(function (win, options) {\n  //远程要加载的css和js文件地址\n  let cssUrl = 'https://cloud.smartnlp.cn/cloud/assets/robot/css/robot.css'\n    , jsUrl = 'https://cloud.smartnlp.cn/cloud/assets/robot/robot.min.js'\n    , doc = win.document;\n  //加载外部css样式\n  let cssFile = document.createElement(\"link\")\n    , head = document.getElementsByTagName(\"head\")[0]\n    , isload = false;\n\n  let _loadJS = function (src, success, error) {\n    let script = document.createElement(\"script\")\n      , head = document.getElementsByTagName(\"head\")[0]\n      , isload = false;\n    script.type = \"text/javascript\";\n    script.src = src;\n    script.onreadystatechange = function () {\n      let r = script.readyState;\n      if (!isload && (r === 'loaded' || r === 'complete')) {\n        isload = true;\n        success && success();\n        script.onreadystatechange = null;\n        head.removeChild(script);\n      }\n    };\n    script.onload = function () {\n      if (!isload) {\n        isload = true;\n        success && success();\n        head.removeChild(script);\n      }\n    };\n    if (error) {\n      script.onerror = error;\n    }\n    head.appendChild(script);\n  };\n  cssFile.type = \"text/css\";\n  cssFile.rel = 'stylesheet';\n  cssFile.href = cssUrl;\n  let robot;\n  let loadback = function () {\n    _loadJS(jsUrl, function () {\n      let cb = function () {\n        let Robot = win['__smartnlpRobot']\n          , self = this.callee;\n        if (!Robot) {\n          setTimeout(cb, 200);\n        } else {\n          if (!!robot) {\n            return false;\n          }\n          robot = new Robot(options);\n          let _con = robot.con\n            , _cssfix = robot.cssfix;\n          win['_smartnlpRobotShow'] = function (mod) {\n            if (_con.mod === 'mini' && mod === 'normal') {\n              robot.wrap.find('.' + _cssfix + 'icon-clo').trigger('click');\n              return;\n            }\n            if (_con.mod === 'mini' && mod !== 'normal' && !_con.ismax) {\n              robot.wrap.find('.' + _cssfix + 'slide-btn').trigger('click');\n            }\n          };\n          win['_smartnlpRobotHide'] = function () {\n            if (_con.mod !== 'mini') {\n              robot.wrap.find('.' + _cssfix + 'icon-clo').trigger('click');\n            }\n            if (!!_con.ismax) {\n              robot.wrap.find('.' + _cssfix + 'slide-btn').trigger('click');\n            }\n          };\n        }\n      };\n      cb();\n    }, function () {\n      !!win.console && console.log(jsUrl + '未正常加载');\n    });\n  };\n  cssFile.onreadystatechange = function () {\n    let r = cssFile.readyState;\n    if (!isload && (r === 'loaded' || r === 'complete' || r === 'interactive')) {\n      loadback();\n    }\n  };\n  cssFile.onload = function () {\n    !isload && loadback();\n  };\n  setTimeout(function () {\n    !isload && loadback();\n  }, 1000);\n  head.appendChild(cssFile);\n})(window, {\n  \"mod\": \"mini\",\n  \"apiUrl\": \"https://api.smartnlp.cn/cloud/robot/\",\n  \"kefuHost\": \"https://kf.smartnlp.cn/\",\n  \"uploadUrl\": \"https://res.smartnlp.cn/robot-id/upload\",\n  \"appid\": \"59796d91100000dc15d2d089\",\n  \"kefuOnly\": false,\n  \"minWidth\": 800,\n  \"colors\": {\"header\": \"#00c3ff\", \"border\": \"#00c3ff\", \"button\": \"#00c3ff\"},\n  \"quicks\": [],\n  \"tools\": [],\n  \"zindex\": 60,\n  \"showLeftPanel\": true,\n  \"showSideBtn\": true,\n  \"showCopyright\": true,\n  \"placeholder\": robot.placeholder,\n  \"callImg\": \"http://img.alicdn.com/imgextra/i4/TB1tMo3JpXXXXbwXVXXwu0bFXXX.png\",\n  \"codeBigImg\": \"http://img.alicdn.com/imgextra/i1/TB197MVJpXXXXXuXVXXSutbFXXX.jpg\",\n  \"welcome\": robot.welcome,\n  \"kefuWelcome\": robot.kefuWelcome,\n  \"nick\": \"\",\n  \"newurl\": \"https://cloud.chatbot.cn/cloud/robot/webui/59796d91100000dc15d2d089?mobile\",\n  \"logo\": \"http://localhost:8000/ic_robot.png\",\n  \"headImg\": 'http://localhost:8000/ic_robot.png',\n  \"kfJsUrl\": \"https://cloud.smartnlp.cn/cloud/assets/robot/ddp-client.js\",\n  \"cloudUrl\": \"https://cloud.smartnlp.cn\",\n  \"likePrompt\": robot.likePrompt,\n  \"title\": robot.title,\n  \"answerDelayTime\": 400\n});\n\n"]}