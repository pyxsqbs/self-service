{"version":3,"sources":["MsgItem.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;;;;;;;;;IAEM,O;;;AAEJ,mBAAY,KAAZ,EAAmB;AAAA;;AAAA,kHACX,KADW;;AAEjB,UAAK,KAAL,GAAa;AACX,kBAAY,OADD;AAEX,qBAAe,SAFJ;AAGX,eAAS;AAHE,KAAb;AAKA,UAAK,gBAAL,GAAwB,MAAK,gBAAL,CAAsB,IAAtB,OAAxB;AACA,UAAK,WAAL,GAAmB,MAAK,WAAL,CAAiB,IAAjB,OAAnB;AACA,UAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB;AACA,UAAK,YAAL,GAAoB,MAAK,YAAL,CAAkB,IAAlB,OAApB;AAViB;AAWlB;;;;8BAES,C,EAAG;AACX,UAAI,EAAE,MAAF,KAAa,CAAjB,EAAoB;AAClB,aAAK,QAAL,CAAc;AACZ,mBAAS;AADG,SAAd;AAGD;AACF;;;mCAEc;AACb,WAAK,QAAL,CAAc;AACZ,iBAAS;AADG,OAAd;AAGD;;;gCAEW,C,EAAG;AACb,UAAI,uBAAU,SAAV,MAAyB,EAA7B,EAAiC;AAC/B,4BAAY,IAAZ,CAAiB,MAAM,KAAK,KAAL,CAAW,KAAlC;AACD,OAFD,MAEO;AACL,aAAK,SAAL,CAAe,CAAf;AACA,aAAK,gBAAL;AACA,aAAK,KAAL,CAAW,QAAX,CAAoB;AAClB,gBAAM,gCADY;AAElB,mBAAS,KAAK,KAAL,CAAW;AAFF,SAApB;AAID;AACF;;;uCAEkB;AACjB,UAAI,KAAK,KAAL,CAAW,UAAX,KAA0B,SAA9B,EAAyC;AACvC,aAAK,QAAL,CAAc;AACZ,sBAAY,OADA;AAEZ,yBAAe;AAFH,SAAd;AAID,OALD,MAKO;AACL,aAAK,QAAL,CAAc;AACZ,sBAAY,SADA;AAEZ,yBAAe;AAFH,SAAd;AAID;AACF;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAK,WAAW,kBAAO,OAAvB,EAAgC,aAAa,KAAK,gBAAlD,EAAoE,YAAY,KAAK,gBAArF;AACE;AAAA;AAAA,YAAM,aAAa,EAAC,gBAAgB,MAAjB,EAAnB,EAA6C,aAAa,KAAK,WAA/D;AACE;AAAA;AAAA,cAAK,WAAW,kBAAO,cAAvB,EAAuC,OAAO,EAAC,OAAO,KAAK,KAAL,CAAW,UAAnB,EAA9C;AACG,iBAAK,KAAL,CAAW;AADd,WADF;AAIE,iDAAK,WAAW,kBAAO,aAAvB,EAAsC,OAAO;AAC3C,+BAAiB,KAAK,KAAL,CAAW,aADe;AAE3C,qBAAQ,uBAAU,UAAV,MAA0B,SAA3B,GAAwC,EAAxC,GAA6C;AAFT,aAA7C;AAJF,SADF;AAUE,8DAAY,SAAS,KAAK,KAAL,CAAW,OAAhC,EAAyC,UAAU,KAAK,KAAL,CAAW,QAA9D,EAAwE,cAAc,KAAK,YAA3F;AACY,mBAAS,KAAK,KAAL,CAAW,OADhC;AAVF,OADF;AAeD;;;;EAxEmB,gBAAM,S;;kBA2Eb,O","file":"MsgItem-compiled.js","sourcesContent":["import React from 'react';\nimport styles from './MsgItem.css';\nimport {Link, hashHistory} from 'dva/router';\nimport {getCookie} from '../utils/cookie';\nimport LoginModal from './LoginModal';\n\nclass MsgItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hoverColor: 'white',\n      hoverBkgColor: 'inherit',\n      visible: false,\n    };\n    this.changeHoverColor = this.changeHoverColor.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.displayModal = this.displayModal.bind(this);\n  }\n\n  showModal(e) {\n    if (e.button === 0) {\n      this.setState({\n        visible: true,\n      });\n    }\n  };\n\n  displayModal() {\n    this.setState({\n      visible: false,\n    });\n  }\n\n  handleClick(e) {\n    if (getCookie('success') !== '') {\n      hashHistory.push('/' + this.props.route);\n    } else {\n      this.showModal(e);\n      this.changeHoverColor();\n      this.props.dispatch({\n        type: 'modelIndexPage/afterLoginRoute',\n        payload: this.props.route,\n      });\n    }\n  }\n\n  changeHoverColor() {\n    if (this.state.hoverColor === '#41b5ef') {\n      this.setState({\n        hoverColor: 'white',\n        hoverBkgColor: 'inherit',\n      })\n    } else {\n      this.setState({\n        hoverColor: '#41b5ef',\n        hoverBkgColor: '#41b5ef',\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.msgItem} onMouseOver={this.changeHoverColor} onMouseOut={this.changeHoverColor}>\n        <Link activeStyle={{textDecoration: 'none'}} onMouseDown={this.handleClick}>\n          <div className={styles.msgItemContent} style={{color: this.state.hoverColor}}>\n            {this.props.msg}\n          </div>\n          <div className={styles.msgItemFooter} style={{\n            backgroundColor: this.state.hoverBkgColor,\n            width: (getCookie('language') === 'chinese') ? 78 : 100,\n          }}/>\n        </Link>\n        <LoginModal visible={this.state.visible} dispatch={this.props.dispatch} displayModal={this.displayModal}\n                    loading={this.props.loading}/>\n      </div>\n    )\n  }\n}\n\nexport default MsgItem;\n"]}