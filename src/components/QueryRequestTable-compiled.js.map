{"version":3,"sources":["QueryRequestTable.js"],"names":[],"mappings":"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","file":"QueryRequestTable-compiled.js","sourcesContent":["import React from 'react';\nimport styles from './QueryRequestTable.css';\nimport {Pagination} from 'antd';\nimport {hashHistory} from 'dva/router';\nimport DetailsTable from \"./DetailsTable\";\nimport language from '../utils/Languages/index';\nimport {pagination} from \"../utils/modification\";\n\nconst L = language.QueryRequest.QueryEventTable;\n\nclass QueryRequestTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch({\n      type: 'modelQueryRequest/loadUserMessage',\n      payload: null,\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.userMsg.data.reqId && this.props.count === 0) {\n      this.props.dispatch({\n        type: 'modelQueryRequest/getQueryRequestTableData',\n        payload: {\n          reqId: prevProps.userMsg.data.reqId,\n          pageNumber: this.props.pageNumber,\n          luceneKey: this.props.luceneKey,\n        },\n      });\n      this.props.changeCount();\n    }\n  }\n\n  onChange(pageNumber) {\n    this.props.changeCount();\n    this.props.changePageNumber(pageNumber);\n  }\n\n  handleDoubleClick(key) {\n    hashHistory.push('/RequestDetails/' + key);\n  }\n\n  render() {\n    let dataInit = this.props.queryRequestData;\n    let data = [];\n    pagination();\n    for (let i = 0; i < dataInit.length; i++) {\n      data[i] = {\n        key: dataInit[i].id,\n        index: (this.props.pageNumber - 1) * 15 + i + 1,\n        workOrderNumber: dataInit[i].srmNo,\n        caption: dataInit[i].srmTopic,\n        classification: dataInit[i].entry,\n        state: <div\n          style={{\n            backgroundColor:\n              (dataInit[i].srmStatusName === '审批中') ? '#325fbb' : (\n                (dataInit[i].srmStatusName === '已关闭') ? '#8f9498' : (\n                  (dataInit[i].srmStatusName === '本团队审批中') ? '#418bf7' : (\n                    (dataInit[i].srmStatusName === '新建') ? '#838ce3' : (\n                      (dataInit[i].srmStatusName === '待受理') ? '#ffeb3b' : (\n                        (dataInit[i].srmStatusName === '处理中') ? '#69d482' : (\n                          (dataInit[i].srmStatusName === '等待中') ? '#2faee0' : (\n                            (dataInit[i].srmStatusName === '已完成') ? '#9f2fe0' : ''\n                          )))))))\n          }}\n          className={styles.state}\n        >{dataInit[i].srmStatusName}</div>,\n        requester: dataInit[i].reqName,\n        creationTime: dataInit[i].srmCreateDate,\n        ExpCompTime: dataInit[i].srmOverdueDate,\n        currentProcessor: dataInit[i].flowMangerUserrealname,\n      };\n    }\n\n\n    const columns = [{\n      title: '',\n      dataIndex: 'index',\n      key: 'index',\n    }, {\n      title: L.columns_WORK_ORDER_NUMBER,\n      dataIndex: 'workOrderNumber',\n      key: 'workOrderNumber',\n      styles: {\n        color: '#0070d2',\n      }\n    }, {\n      title: L.columns_CAPTION,\n      dataIndex: 'caption',\n      key: 'caption',\n    }, {\n      title: L.columns_CLASSIFICATION,\n      dataIndex: 'classification',\n      key: 'classification',\n    }, {\n      title: L.columns_STATE,\n      dataIndex: 'state',\n      key: 'state',\n      styles: {\n        color: 'white',\n        fontSize: 10,\n      }\n    }, {\n      title: L.columns_REQUESTER,\n      dataIndex: 'requester',\n      key: 'requester',\n    }, {\n      title: L.columns_CREATION_TIME,\n      dataIndex: 'creationTime',\n      key: 'creationTime',\n    }, {\n      title: L.columns_EXCEPTED_COMPLETION_TIME,\n      dataIndex: 'ExpCompTime',\n      key: 'ExpCompTime',\n    }, {\n      title: L.columns_CURRENT_PROCESSOR,\n      dataIndex: 'currentProcessor',\n      key: 'currentProcessor',\n    },];\n    return (\n      <div className={styles.queryRequestTableContainer}>\n        <DetailsTable\n          columns={columns}\n          data={data}\n          tid={'QueryRequestTable'}\n          limit={'15'}\n          handleDoubleClick={this.handleDoubleClick}\n        />\n        <Pagination\n          defaultCurrent={1}\n          total={this.props.totalProperty}\n          className={styles.pagination}\n          showQuickJumper\n          onChange={this.onChange}\n          showTotal={(total, range) => `${range[0]}-${range[1]} of ${total} ${L.showTotal}`}\n          defaultPageSize={15}\n          current={this.props.pageNumber}\n        />\n      </div>\n    )\n  }\n}\n\nexport default QueryRequestTable;\n"]}