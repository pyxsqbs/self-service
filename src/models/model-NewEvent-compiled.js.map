{"version":3,"sources":["model-NewEvent.js"],"names":[],"mappings":"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","file":"model-NewEvent-compiled.js","sourcesContent":["import {\n  rmFile,\n  loadUserMsg,\n  postDepartmentName,\n  postBelongProject,\n  postEventProperty,\n  postClassification,\n  postEnterprise,\n  postWorkOrder,\n} from '../services/service-NewEvent'\nimport {hashHistory} from 'dva/router';\nimport {notification} from 'antd';\n\nexport default {\n\n  namespace: 'modelNewEvent',\n\n  state: {\n    userMsg: {\n      data: {\n        reqDeptName: null,\n        reqEmail: null,\n        reqMobile: null,\n        reqName: null,\n        reqNo: null,\n        reqUsername: null,\n      },\n    },\n    departmentName: [],\n    belongProject: [],\n    eventProperty: [],\n    classification: [],\n    enterprise: [],\n  },\n\n  reducers: {\n    initUserMsg(state, {payload}) {\n      Object.assign(state.userMsg, payload);\n      return Object.assign({}, state);\n    },\n    initDepartmentName(state, {payload}) {\n      Object.assign(state.departmentName, payload);\n      return Object.assign({}, state);\n    },\n    initBelongProject(state, {payload}) {\n      Object.assign(state.belongProject, payload);\n      return Object.assign({}, state);\n    },\n    initEventProperty(state, {payload}) {\n      Object.assign(state.eventProperty, payload);\n      return Object.assign({}, state);\n    },\n    initClassification(state, {payload}) {\n      Object.assign(state.classification, payload);\n      return Object.assign({}, state);\n    },\n    initEnterprise(state, {payload}) {\n      Object.assign(state.enterprise, payload);\n      return Object.assign({}, state);\n    },\n    INIT(state, {payload}) {\n      return Object.assign({}, {\n        userMsg: {\n          data: {\n            reqDeptName: null,\n            reqEmail: null,\n            reqMobile: null,\n            reqName: null,\n            reqNo: null,\n            reqUsername: null,\n          },\n        },\n        departmentName: [],\n        belongProject: [],\n        eventProperty: [],\n        classification: [],\n        enterprise: [],\n      });\n    },\n  },\n\n  effects: {\n    * removeFile({payload}, {call, put, select}) {\n      const result = yield call(rmFile, payload);\n      if (!result.data.success) {\n        alert('删除上传文件错误');\n      }\n    },\n    * loadUserMessage({payload}, {call, put, select}) {\n      const result = yield call(loadUserMsg);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initUserMsg', payload: result.data});\n      }\n    },\n    * loadDepartmentName({payload}, {call, put, select}) {\n      const result = yield call(postDepartmentName);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initDepartmentName', payload: result.data});\n      }\n    },\n    * loadBelongProject({payload}, {call, put, select}) {\n      const result = yield call(postBelongProject);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initBelongProject', payload: result.data});\n      }\n    },\n    * loadEventProperty({payload}, {call, put, select}) {\n      const result = yield call(postEventProperty);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initEventProperty', payload: result.data});\n      }\n    },\n    * loadClassification({payload}, {call, put, select}) {\n      const result = yield call(postClassification);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initClassification', payload: result.data});\n      }\n    },\n    * loadEnterprise({payload}, {call, put, select}) {\n      const result = yield call(postEnterprise);\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        yield put({type: 'initEnterprise', payload: result.data});\n      }\n    },\n\n    * submitWorkOrder({payload}, {call, put, select}) {\n      const result = yield call(postWorkOrder, payload);\n      const notificationConfig = function (msg, type) {\n        notification[type]({\n          message: msg,\n          placement: 'topLeft',\n        });\n      };\n      if (JSON.stringify(result).indexOf('\"err\":') === -1 && JSON.stringify(result).indexOf('\"error\":') === -1) {\n        notificationConfig('提交成功', 'success');\n        hashHistory.push('/EventDetails/' + result.data.data.id);\n      } else {\n        notificationConfig('提交失败', 'error');\n        hashHistory.push('/NewEvent');\n      }\n    }\n  },\n\n  subscriptions: {},\n};\n"]}