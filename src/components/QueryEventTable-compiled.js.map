{"version":3,"sources":["QueryEventTable.js"],"names":[],"mappings":"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","file":"QueryEventTable-compiled.js","sourcesContent":["import React from 'react';\nimport styles from './QueryEventTable.css';\nimport {Pagination} from 'antd';\nimport {hashHistory} from 'dva/router';\nimport DetailsTable from \"./DetailsTable\";\nimport language from '../utils/Languages/index';\nimport {pagination} from \"../utils/modification\";\n\nconst L = language.QueryEvent.QueryEventTable;\n\nclass QueryEventTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch({\n      type: 'modelQueryEvent/loadUserMessage',\n      payload: null,\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.userMsg.data.reqId && this.props.count === 0) {\n      this.props.dispatch({\n        type: 'modelQueryEvent/getQueryEventTableData',\n        payload: {\n          reqId: prevProps.userMsg.data.reqId,\n          pageNumber: this.props.pageNumber,\n          luceneKey: this.props.luceneKey,\n        },\n      });\n      this.props.changeCount();\n    }\n  }\n\n  onChange(pageNumber) {\n    this.props.changeCount();\n    this.props.changePageNumber(pageNumber);\n  }\n\n  handleDoubleClick(key) {\n    hashHistory.push('/EventDetails/' + key);\n  }\n\n  render() {\n    let dataInit = this.props.queryEventData;\n    let data = [];\n    pagination();\n    for (let i = 0; i < dataInit.length; i++) {\n      data[i] = {\n        key: dataInit[i].id,\n        index: (this.props.pageNumber - 1) * 15 + i + 1,\n        workOrderNumber: dataInit[i].incNo,\n        state: <div\n          style={{\n            backgroundColor:\n              (dataInit[i].status === '处理中') ? '#69d482' : (\n                (dataInit[i].status === '新建') ? '#838ce3' : (\n                  (dataInit[i].status === '已分派') ? '#3179b1' : (\n                    (dataInit[i].status === '待分派') ? '#33d4ff' : (\n                      (dataInit[i].status === '已关闭') ? '#9fa0a4' : (\n                        (dataInit[i].status === '已解决') ? '#ffeb3b' : ''\n                      )\n                    )\n                  )\n                )\n              )\n          }}\n          className={styles.state}\n        >{dataInit[i].status}</div>,\n        creationTime: dataInit[i].incCreateDate,\n        caption: dataInit[i].incTopic,\n        entry: dataInit[i].entry,\n        acceptGroup: dataInit[i].dealGroupName,\n        acceptor: dataInit[i].flowUserName,\n        priority: <div\n          style={{\n            backgroundColor:\n              (dataInit[i].incPriLevelName === '1') ? '#ff625c' : (\n                (dataInit[i].incPriLevelName === '2') ? '#e67505' : (\n                  (dataInit[i].incPriLevelName === '3') ? '#ffd200' : (\n                    (dataInit[i].incPriLevelName === '4') ? '#9fa0a4' : (\n                      (dataInit[i].incPriLevelName === '5') ? '#c0c0c0' : ''\n                    )\n                  )\n                )\n              )\n          }}\n          className={styles.priority}\n        >{dataInit[i].incPriLevelName}</div>,\n        requester: dataInit[i].requesterName,\n        creator: dataInit[i].submitName,\n        closeCode: dataInit[i].incCloseCode,\n      };\n    }\n\n    const columns = [{\n      title: '',\n      dataIndex: 'index',\n      key: 'index',\n    }, {\n      title: L.columns_WORK_ORDER_NUMBER,\n      dataIndex: 'workOrderNumber',\n      key: 'workOrderNumber',\n      styles: {\n        color: '#0070d2',\n      }\n    }, {\n      title: L.columns_STATE,\n      dataIndex: 'state',\n      key: 'state',\n      styles: {\n        color: 'white',\n        fontSize: 10,\n      }\n    }, {\n      title: L.columns_CREATION_TIME,\n      dataIndex: 'creationTime',\n      key: 'creationTime',\n    }, {\n      title: L.columns_CAPTION,\n      dataIndex: 'caption',\n      key: 'caption',\n    }, {\n      title: L.columns_ENTRY,\n      dataIndex: 'entry',\n      key: 'entry',\n    }, {\n      title: L.columns_ACCEPT_GROUP,\n      dataIndex: 'acceptGroup',\n      key: 'acceptGroup',\n    }, {\n      title: L.columns_ACCEPTOR,\n      dataIndex: 'acceptor',\n      key: 'acceptor',\n    }, {\n      title: L.columns_PRIORITY,\n      dataIndex: 'priority',\n      key: 'priority',\n      styles: {\n        color: 'white',\n        fontSize: 10,\n      }\n    }, {\n      title: L.columns_REQUESTER,\n      dataIndex: 'requester',\n      key: 'requester',\n    }, {\n      title: L.columns_CREATOR,\n      dataIndex: 'creator',\n      key: 'creator',\n    }, {\n      title: L.columns_CLOSE_CODE,\n      dataIndex: 'closeCode',\n      key: 'closeCode',\n    }];\n    return (\n      <div className={styles.queryEventTableContainer}>\n        <DetailsTable\n          columns={columns}\n          data={data}\n          tid={'QueryEventTable'}\n          limit={'15'}\n          handleDoubleClick={this.handleDoubleClick}\n        />\n        <Pagination\n          defaultCurrent={1}\n          total={this.props.totalProperty}\n          className={styles.pagination}\n          showQuickJumper\n          onChange={this.onChange}\n          showTotal={(total, range) => `${range[0]}-${range[1]} of ${total} ${L.showTotal}`}\n          defaultPageSize={15}\n          current={this.props.pageNumber}\n        />\n      </div>\n    )\n  }\n}\n\nexport default QueryEventTable;\n"]}